# 1.5. 디폴트 메서드와 자바 모듈

### 자바 8 이전 문제점

요즘은 외부에서 만들어진 컴포넌트를 이용해 시스템을 구축하는 경향이 있다. 이와 관련해 지금까지 자바에서는 특별한 구조가 아닌 평범한 자바 패키지 집합을 포함하는 JAR 파일을 제공하는 것이 전부였다. 
이러한 패키지의 인터페이스를 바꿔야 하는 상황에서는 인터페이스를 구현하는 모든 클래스의 구현을 바꿔야 하는 문제점이 있었다.

자바 8, 9에서는 이러한 문제점에 대해 아래와 같이 해결할 수 있다.
- 자바 9

모듈 시스템은 모듈을 정의하는 문법을 제공한다. 이를 이용해 패키지 모음을 포함하는 모듈을 정의할 수 있다. 모듈 덕분에 JAR 같은 컴포넌트에 구조를 적용할 수 있으며 문서화와 모듈 확인 작업이 용이해졌다. (14장)

- 자바 8

인터페이스를 쉽게 바꿀 수 있도록 `디폴드 메서드`를 지원한다. (13장)

디폴트 메서드는 특정 프로그램을 구현하는 데 도움을 주는 기능이 아니라 미래에 프로그램이 쉽게 변화할 수 있는 환경을 제공하는 기능이다.

<br>

### 어떻게 기존의 구현을 고치지 않고도 이미 공개된 인터페이스를 변경할 수 있을까?

자바 8은 구현 클래스에서 구현하지 않아도 되는 메서드를 인터페이스에 추가할 수 있는 기능을 제공하며, 메서드 본문은 클래스 구현이 아니라 인터페이스 일부로 포함된다.

디폴트 메서드를 이용하면 기존의 코드를 건드리지 않고도 원래의 인터페이스 설계를 자유롭게 확장할 수 있다. 자바 8에서는 인터페이스 규격명세에서 `default`라는 새로운 키워드를 지원한다.

예를 들어 자바 8에서는 List에 직접 sort 메서드를 호출할 수 있다. 이는 자바 8의 List 인터페이스에 다음과 같은 디폴트 메서드 정의가 추가되었기 때문이다.
```java
//자바 8이후 메서드 참조 적용
default void sort(Comparator<? super E> C) {
  Collections.sort(this, c);
}
```

<br>

전반적으로 디폴트 메서드와 자바 모듈은 보다 유연하고 유지 관리 가능한 코드를 작성하는 데 도움이 되는 동시에 애플리케이션에 더 나은 보안 및 구성을 제공해주는 강력한 기능이다.
